<h1>
    Virtualizing Stack
</h1>

<h3>
    Virtualizing Stacks render a vertical or horizontal stack of elements based on an
    author provided array of data and a FAST template. Only elements that are in the
    bounds of the "viewport" element and the definable buffer region are actually
    rendered. The default viewport is the stack element itself.
    <p>
        The item templates in each of the examples consist of a fast-card element with a
        title and a skeleton.
    </p>
</h3>

<fast-virtualizing-stack
    orientation="horizontal"
    item-span="100"
    viewport-buffer="800"
    auto-update-mode="auto"
    id="stackh1"
    style="
        height: 120px;
        width: 100%;
        overflow-x: scroll;
        overflow-y: hidden;
        background: gray;
    "
></fast-virtualizing-stack>

<h3>
    There is considerable flexibility as to what element can be the viewport. In this case
    the green div overlay acts as the viewport and only items near it are rendered. An
    obvious use for this is to have a common viewport for nested horizontal and vertical
    stacks.
</h3>

<div style="height: 120px; width: 100%; display: grid; justify-items: center;">
    <fast-virtualizing-stack
        orientation="horizontal"
        auto-update-mode="auto"
        item-span="100"
        id="stackh2"
        viewport="viewporth2"
        style="
            grid-row: 1;
            height: 120px;
            width: 100%;
            overflow-x: scroll;
            overflow-y: hidden;
            background: gray;
        "
    ></fast-virtualizing-stack>
    <div
        id="viewporth2"
        style="
            grid-row: 1;
            pointer-events: none;
            position: absolute;
            height: 120px;
            width: 15%;
            background: green;
            opacity: 0.3;
        "
    ></div>
</div>

<h3>
    With a 200 ms layout-update-delay timer. The idea with layout-update-delay is to give
    developers a way to prevent the creation of intermediate elements during big scroll
    operations. Could be useful if initializing child elements is expensive.
</h3>

<fast-virtualizing-stack
    auto-update-mode="auto"
    orientation="horizontal"
    item-span="100"
    id="stackh3"
    layout-update-delay="200"
    style="
        height: 120px;
        width: 100%;
        overflow-x: scroll;
        overflow-y: hidden;
        background: gray;
    "
></fast-virtualizing-stack>

<h3>
    Developers can define start/end regions and insert their own elements into those
    regions. These are not virtualized and remain in the DOM even when out of view.
</h3>
<fast-virtualizing-stack
    auto-update-mode="auto"
    orientation="horizontal"
    item-span="100"
    id="stackh4"
    start-region-span="100"
    end-region-span="100"
    style="
        height: 120px;
        width: 100%;
        overflow-x: scroll;
        overflow-y: hidden;
        background: gray;
    "
>
    <fast-button style="grid-column: start; height: 100%; width: 100%;">
        Button 1
    </fast-button>
    <fast-button style="grid-column: end; height: 100%; width: 100%;">
        Button 2
    </fast-button>
</fast-virtualizing-stack>

<h3>
    Grid test
</h3>
<div
    id="gridcontainer"
    style="height: 800px; width: 800px; overflow-x: scroll; overflow-y: scroll;"
>
    <fast-virtualizing-stack
        auto-update-mode="auto"
        viewport-buffer="800"
        viewport="gridcontainer"
        orientation="vertical"
        item-span="100"
        id="stackgrid"
        style="width: fit-content; background: gray; contain: none;"
    ></fast-virtualizing-stack>
</div>

<div
    style="
        margin-top: 100px;
        width: 240px;
        display: grid;
        grid-template-columns: 1fr 20px 1fr 20px 1fr;
    "
>
    <fast-virtualizing-stack
        auto-update-mode="auto"
        item-span="100"
        id="stackv1"
        style="grid-column: 1; width: 100px; background: gray;"
    ></fast-virtualizing-stack>

    <fast-virtualizing-stack
        auto-update-mode="auto"
        item-span="100"
        id="stackv2"
        style="
            width: 120px;
            height: 400px;
            grid-column: 3;
            overflow-y: scroll;
            overflow-x: hidden;
            background: gray;
        "
    ></fast-virtualizing-stack>

    <fast-virtualizing-stack
        auto-update-mode="auto"
        item-span="100"
        id="stackv3"
        style="
            width: 120px;
            height: 400px;
            grid-column: 5;
            overflow-y: scroll;
            overflow-x: hidden;
            background: gray;
        "
    >
        <fast-button style="grid-row: start; height: 100%; width: 100%;">
            Button 1
        </fast-button>
        <fast-button style="grid-row: end; height: 100%; width: 100%;">
            Button 2
        </fast-button>
    </fast-virtualizing-stack>
</div>
