<!doctype html>
<html lang="en" data-theme="dark">
  <head>
    <meta charset="UTF-8">
    <title>HTML Directives</title>
    <meta data-rh="true" name="twitter:card" content="summary_large_image">
    <meta data-rh="true" property="og:url" content="https://www.fast.design/">
    <meta data-rh="true" property="og:locale" content="en">
    <meta data-rh="true" name="docsearch:language" content="en">
    <meta data-rh="true" property="og:title" content="web components | FAST">
    <meta data-rh="true" name="description" content="FAST web components">
    <meta data-rh="true" property="og:description" content="FAST web components">
    <link data-rh="true" rel="icon" href="/static/favicon.ico">
    <link data-rh="true" rel="canonical" href="https://www.fast.design/">
    <link data-rh="true" rel="alternate" href="https://www.fast.design/" hreflang="en">
    <link data-rh="true" rel="alternate" href="https://www.fast.design/" hreflang="x-default">
    <link rel="stylesheet" href="/css/main.css">
    <link rel="stylesheet" href="/css/prism-vsc-dark-plus.css">
    <link rel="stylesheet" href="/css/variables.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0" data-rh="true">
    <script src="/js/navbar-toggle.js"></script>
    </head>
  <body class="">
    <nav aria-label="Main" class="navbar navbar--fixed-top">
        <div class="navbar__inner">
            <div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true">
                        <path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path>
                    </svg></button><a href="https://www.fast.design" target="_self" rel="noopener noreferrer" class="navbar__brand">
                    <div class="navbar__logo"><img src="/static/fast-inline-logo.svg" alt="Line drawing of a small moon orbiting around a planet with the words FAST next to it" class="themed-component themed-component__dark"></div>
                </a><a class="navbar__item navbar__link" href="/docs/2.x/introduction">Docs</a>
                <div class="navbar__item dropdown dropdown--hoverable"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/docs/2.x/introduction">2.x</a>
                    <ul class="dropdown__menu">
                        <li><a class="dropdown__link" href="/docs/2.x/introduction">2.x</a></li>
                        <li><a class="dropdown__link" href="/docs/1.x/introduction">1.x</a></li>
                    </ul>
                </div>
            </div>
            <div class="navbar__items navbar__items--right"><a href="https://www.fast.design" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Home<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="icon-external-link">
                        <path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z">
                        </path>
                    </svg></a><a href="https://discord.com/invite/FcSNfg4" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Community<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="icon-external-link">
                        <path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z">
                        </path>
                    </svg></a><a href="https://github.com/microsoft/fast" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="icon-external-link">
                        <path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z">
                        </path>
                    </svg></a>
            </div>
        </div>
    </nav>
    <div class="main-wrapper">
        <div class="docs-wrapper">
    <div class="doc-root">
        <aside class="theme-doc-sidebar-container sidebar-container">
    <div class="sidebar-viewport">
        <div class="sidebar">
            <nav class="menu thin-scrollbar menu-nav">
                <ul class="menu__list"><li class="menu__list-item"><a href="/docs/2.x/introduction/" class="menu__link">Introduction</a></li>
<li class="menu__list-item menu__list-item-collapsible"><a>Getting Started</a><ul><li class="menu__list-item"><a href="/docs/2.x/getting-started/css-templates/" class="menu__link">CSS Templates</a></li>
<li class="menu__list-item"><a href="/docs/2.x/getting-started/fast-element/" class="menu__link">FASTElement</a></li>
<li class="menu__list-item menu__list-item-collapsible--active"><a href="/docs/2.x/getting-started/html-directives/" aria-current="page" class="menu__link menu__link--active">HTML Directives</a></li>
<li class="menu__list-item"><a href="/docs/2.x/getting-started/html-templates/" class="menu__link">HTML Templates</a></li>
<li class="menu__list-item"><a href="/docs/2.x/getting-started/quick-start/" class="menu__link">Quick Start</a></li></ul></li>
<li class="menu__list-item menu__list-item-collapsible"><a>Advanced Concepts</a><ul><li class="menu__list-item"><a href="/docs/2.x/advanced/dependency-injection/" class="menu__link">Dependency Injection</a></li>
<li class="menu__list-item"><a href="/docs/2.x/advanced/working-with-custom-elements/" class="menu__link">Working with Custom Elements</a></li>
<li class="menu__list-item"><a href="/docs/2.x/advanced/working-without-decorators/" class="menu__link">Working without Decorators</a></li></ul></li>
<li class="menu__list-item menu__list-item-collapsible"><a>API Reference</a><ul><li class="menu__list-item"><a href="/docs/2.x/api/" class="menu__link">@microsoft/fast-element</a></li>
<li class="menu__list-item"><a href="/docs/2.x/api/fast-element/context/" class="menu__link">@microsoft/fast-element/context.js</a></li>
<li class="menu__list-item"><a href="/docs/2.x/api/fast-element/di/" class="menu__link">@microsoft/fast-element/di.js</a></li></ul></li>
<li class="menu__list-item menu__list-item-collapsible"><a>Community Contribution</a><ul><li class="menu__list-item"><a href="/docs/2.x/community/issue-management/" class="menu__link">Issue Management</a></li>
<li class="menu__list-item"><a href="/docs/2.x/community/join/" class="menu__link">Joining the community</a></li>
<li class="menu__list-item"><a href="/docs/2.x/community/release-planning/" class="menu__link">Release Planning</a></li>
<li class="menu__list-item"><a href="/docs/2.x/community/writing-documentation/" class="menu__link">Writing documentation</a></li></ul></li>
<li class="menu__list-item"><a href="/docs/2.x/integrations/" class="menu__link">Integrations</a></li>
<li class="menu__list-item"><a href="/docs/2.x/migration-guide/" class="menu__link">Migration Guide</a></li>
<li class="menu__list-item menu__list-item-collapsible"><a>Resources</a><ul><li class="menu__list-item"><a href="/docs/2.x/resources/browser-support/" class="menu__link">Browser Support</a></li>
<li class="menu__list-item"><a href="/docs/2.x/resources/faq/" class="menu__link">FAQ</a></li>
<li class="menu__list-item"><a href="/docs/2.x/resources/glossary/" class="menu__link">Glossary</a></li>
<li class="menu__list-item"><a href="/docs/2.x/resources/why-web-components/" class="menu__link">Why Web Components?</a></li></ul></li></ul>
            </nav>
        </div>
    </div>
</aside>

<main class="docs-main">
    <div class="container padding-top--md padding-bottom--lg">
        <div class="col doc-item">
            <h1 id="html-directives">HTML Directives</h1>
<p>FAST provides directives to aide in solving some common scenarios.</p>
<h2 id="ref">ref</h2>
<p>Sometimes you need a direct reference to a single DOM node from your template. This might be because you need the rendered dimensions of the node, you want to control the playback of a <code>video</code> element, use the drawing context of a <code>canvas</code> element, or pass an element to a 3rd party library. Whatever the reason, you can get a reference to the DOM node by using the <code>ref</code> directive.</p>
<p><strong>Example: Referencing an Element</strong></p>
<pre class="language-ts"><code class="language-ts"><span class="token keyword">import</span> <span class="token punctuation">{</span> FASTElement<span class="token punctuation">,</span> attr<span class="token punctuation">,</span> html<span class="token punctuation">,</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@microsoft/fast-element'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> template <span class="token operator">=</span> html<span class="token operator">&lt;</span>MP4Player<span class="token operator">></span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
  &lt;video </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token function">ref</span><span class="token punctuation">(</span><span class="token string">'video'</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">>
    &lt;source src=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>x <span class="token operator">=></span> x<span class="token punctuation">.</span>src<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> type="video/mp4">
  &lt;/video>
</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">MP4Player</span> <span class="token keyword">extends</span> <span class="token class-name">FASTElement</span> <span class="token punctuation">{</span>
  <span class="token decorator"><span class="token at operator">@</span><span class="token function">attr</span></span>
  src<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>

  video<span class="token operator">:</span> HTMLVideoElement<span class="token punctuation">;</span>

  <span class="token function">connectedCallback</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">connectedCallback</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>video<span class="token punctuation">.</span><span class="token function">play</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

MP4Player<span class="token punctuation">.</span><span class="token function">define</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">"mp4-player"</span><span class="token punctuation">,</span>
  template
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>Place the <code>ref</code> directive on the element you want to reference and provide it with a property name to assign the reference to. Once the <code>connectedCallback</code> lifecycle event runs, your property will be set to the reference, ready for use.</p>
<div class="alert alert--success">
<div class="alert__heading">Tip</div>
<p>If you provide a type for your HTML template, TypeScript will type check the property name you provide to ensure that it actually exists on your element.</p></div>
<h2 id="slotted">slotted</h2>
<p>Sometimes you may want references to all nodes that are assigned to a particular slot. To accomplish this, use the <code>slotted</code> directive. (For more on slots, see <a href="/docs/advanced/working-with-custom-elements.md">Working with Shadow DOM</a>.)</p>
<pre class="language-ts"><code class="language-ts"><span class="token keyword">import</span> <span class="token punctuation">{</span> FASTElement<span class="token punctuation">,</span> html<span class="token punctuation">,</span> slotted <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@microsoft/fast-element'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> template <span class="token operator">=</span> html<span class="token operator">&lt;</span>MyElement<span class="token operator">></span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
  &lt;div>
    &lt;slot </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token function">slotted</span><span class="token punctuation">(</span><span class="token string">'slottedNodes'</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">>&lt;/slot>
  &lt;/div>
</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">MyElement</span> <span class="token keyword">extends</span> <span class="token class-name">FASTElement</span> <span class="token punctuation">{</span>
  <span class="token decorator"><span class="token at operator">@</span><span class="token function">observable</span></span>
  slottedNodes<span class="token operator">:</span> Node<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

  <span class="token function">slottedNodesChanged</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// respond to changes in slotted node</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
MyElement<span class="token punctuation">.</span><span class="token function">define</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'my-element'</span><span class="token punctuation">,</span>
  template
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>Similar to the <code>children</code> directive, the <code>slotted</code> directive will populate the <code>slottedNodes</code> property with nodes assigned to the slot. If <code>slottedNodes</code> is decorated with <code>@observable</code> then it will be updated dynamically as the assigned nodes change. Like any observable, you can optionally implement a <em>propertyName</em>Changed method to be notified when the nodes change. Additionally, you can provide an <code>options</code> object to the <code>slotted</code> directive to specify a customized configuration for the underlying <a href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLSlotElement/assignedNodes">assignedNodes() API call</a> or specify a <code>filter</code>.</p>
<div class="alert alert--success">
<div class="alert__heading">Tip</div>
<p>It's best to leverage a change handler for slotted nodes rather than assuming that the nodes will be present in the <code>connectedCallback</code>.</p></div>
<h2 id="children">children</h2>
<p>Besides using <code>ref</code> to reference a single DOM node, you can use <code>children</code> to get references to all child nodes of a particular element.</p>
<p><strong>Example: Referencing Child Nodes</strong></p>
<pre class="language-ts"><code class="language-ts"><span class="token keyword">import</span> <span class="token punctuation">{</span> FASTElement<span class="token punctuation">,</span> html<span class="token punctuation">,</span> children<span class="token punctuation">,</span> repeat <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@microsoft/fast-element'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> template <span class="token operator">=</span> html<span class="token operator">&lt;</span>FriendList<span class="token operator">></span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
  &lt;ul </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token function">children</span><span class="token punctuation">(</span><span class="token string">'listItems'</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">>
    </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token function">repeat</span><span class="token punctuation">(</span>x <span class="token operator">=></span> x<span class="token punctuation">.</span>friends<span class="token punctuation">,</span> html<span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">></span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
      &lt;li></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>x <span class="token operator">=></span> x<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/li>
    </span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">
  &lt;/ul>
</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">FriendList</span> <span class="token keyword">extends</span> <span class="token class-name">FASTElement</span> <span class="token punctuation">{</span>
  <span class="token decorator"><span class="token at operator">@</span><span class="token function">observable</span></span>
  listItems<span class="token operator">:</span> Node<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

  <span class="token decorator"><span class="token at operator">@</span><span class="token function">observable</span></span>
  friends<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

  <span class="token function">connectedCallback</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">connectedCallback</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>listItems<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

FriendList<span class="token punctuation">.</span><span class="token function">define</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'friend-list'</span><span class="token punctuation">,</span>
  template
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>In the example above, the <code>listItems</code> property will be populated with all child nodes of the <code>ul</code> element. If <code>listItems</code> is decorated with <code>@observable</code> then it will be updated dynamically as the child nodes change. Like any observable, you can optionally implement a <em>propertyName</em>Changed method to be notified when the nodes change. Additionally, you can provide an <code>options</code> object to the <code>children</code> directive to specify a customized configuration for the underlying <a href="https://developer.mozilla.org/en-US/docs/Web/API/MutationObserver">MutationObserver</a>.</p>
<div class="alert alert--info">
<div class="alert__heading">Important</div>
<p>Like <code>ref</code>, the child nodes are not available until the <code>connectedCallback</code> lifecycle event.</p></div>
<div class="alert alert--success">
<div class="alert__heading">Tip</div>
<p>Using the <code>children</code> directive on the <code>template</code> element will provide you with references to all Light DOM child nodes of your custom element, regardless of if or where they are slotted.</p></div>
<p>You can also provide a <code>filter</code> function to control which child nodes are synchronized to your property. As a convenience, we provide an <code>elements</code> filter that lets you optionally specify a selector. Taking the above example, if we wanted to ensure that our <code>listItems</code> array only included <code>li</code> elements (and not any text nodes or other potential child nodes), we could author our template like this:</p>
<p><strong>Example: HTML Template with Filtering Child Nodes</strong></p>
<pre class="language-ts"><code class="language-ts"><span class="token keyword">const</span> template <span class="token operator">=</span> html<span class="token operator">&lt;</span>FriendList<span class="token operator">></span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
  &lt;ul </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token function">children</span><span class="token punctuation">(</span><span class="token punctuation">{</span> property<span class="token operator">:</span> <span class="token string">'listItems'</span><span class="token punctuation">,</span> filter<span class="token operator">:</span> <span class="token function">elements</span><span class="token punctuation">(</span><span class="token string">'li'</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">>
    </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token function">repeat</span><span class="token punctuation">(</span>x <span class="token operator">=></span> x<span class="token punctuation">.</span>friends<span class="token punctuation">,</span> html<span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">></span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
      &lt;li></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>x <span class="token operator">=></span> x<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/li>
    </span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">
  &lt;/ul>
</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span></code></pre>
<p>If using the <code>subtree</code> option for <code>children</code> then a <code>selector</code> is <em>required</em> in place of a <code>filter</code>. This enables more efficient collection of the desired nodes in the presence of a potential large node quantity throughout the subtree.</p>
<h2 id="when">when</h2>
<div class="alert alert--warning">
<div class="alert__heading">Warning</div>
<p>Use sparingly, this will have impacts on performance. If you find yourself using this directive a lot in a single component, consider creating multiple components instead.</p></div>
<p>The <code>when</code> directive enables you to conditionally render blocks of HTML. When you provide an expression to <code>when</code> it will render the child template into the DOM when the expression evaluates to <code>true</code> and remove the child template when it evaluates to <code>false</code> (or if it is never <code>true</code>, the rendering will be skipped entirely).</p>
<p><strong>Example: Conditional Rendering</strong></p>
<pre class="language-ts"><code class="language-ts"><span class="token keyword">import</span> <span class="token punctuation">{</span> FASTElement<span class="token punctuation">,</span> observable<span class="token punctuation">,</span> html<span class="token punctuation">,</span> when <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@microsoft/fast-element'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> template <span class="token operator">=</span> html<span class="token operator">&lt;</span>MyApp<span class="token operator">></span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
  &lt;h1>My App&lt;/h1>

  </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token function">when</span><span class="token punctuation">(</span>x <span class="token operator">=></span> <span class="token operator">!</span>x<span class="token punctuation">.</span>ready<span class="token punctuation">,</span> html<span class="token operator">&lt;</span>MyApp<span class="token operator">></span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
    Loading...
  </span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">
</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">MyApp</span> <span class="token keyword">extends</span> <span class="token class-name">FASTElement</span> <span class="token punctuation">{</span>
  <span class="token decorator"><span class="token at operator">@</span><span class="token function">observable</span></span>
  ready<span class="token operator">:</span> <span class="token builtin">boolean</span> <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>

  <span class="token decorator"><span class="token at operator">@</span><span class="token function">observable</span></span>
  data<span class="token operator">:</span> <span class="token builtin">any</span> <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>

  <span class="token function">connectedCallback</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">connectedCallback</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">loadData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">async</span> <span class="token function">loadData</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> response <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">'some/resource'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token keyword">await</span> response<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token keyword">this</span><span class="token punctuation">.</span>data <span class="token operator">=</span> data<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>ready <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

MyApp<span class="token punctuation">.</span><span class="token function">define</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'my-app'</span><span class="token punctuation">,</span>
  template
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<div class="alert alert--secondary">
<div class="alert__heading">Note</div>
<p>The <code>@observable</code> decorator creates a property that the template system can watch for changes. It is similar to <code>@attr</code>, but the property is not surfaced as an HTML attribute on the element itself.</p></div>
<p>In addition to providing a template to conditionally render, you can also provide an expression that evaluates to a template. This enables you to dynamically change what you are conditionally rendering.</p>
<p><strong>Example: HTML Template with Conditional Rendering and Dynamic Template</strong></p>
<pre class="language-ts"><code class="language-ts"><span class="token keyword">const</span> template <span class="token operator">=</span> html<span class="token operator">&lt;</span>MyApp<span class="token operator">></span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
  &lt;h1>My App&lt;/h1>

  </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token function">when</span><span class="token punctuation">(</span>x <span class="token operator">=></span> x<span class="token punctuation">.</span>ready<span class="token punctuation">,</span> x <span class="token operator">=></span> x<span class="token punctuation">.</span>dataTemplate<span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">
</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span></code></pre>
<h2 id="repeat">repeat</h2>
<div class="alert alert--warning">
<div class="alert__heading">Warning</div>
<p>Use sparingly, this will have impacts on performance. Instead, use slots and compose your component using multiple nested elements, slotted elements may provide more performant and more maintainable solutions. See the <a href="./fast-element.md">FASTElement documentation</a> for details.</p></div>
<p>To render a list of data, use the <code>repeat</code> directive, providing the list to render and a template to use in rendering each item.</p>
<p><strong>Example: List Rendering</strong></p>
<pre class="language-ts"><code class="language-ts"><span class="token keyword">import</span> <span class="token punctuation">{</span> FASTElement<span class="token punctuation">,</span> observable<span class="token punctuation">,</span> html<span class="token punctuation">,</span> repeat <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@microsoft/fast-element'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> template <span class="token operator">=</span> html<span class="token operator">&lt;</span>FriendList<span class="token operator">></span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
  &lt;h1>Friends&lt;/h1>

  &lt;form @submit="</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>x <span class="token operator">=></span> x<span class="token punctuation">.</span><span class="token function">addFriend</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">>"
    &lt;input type="text" :value="</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>x <span class="token operator">=></span> x<span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">" @input="</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> c<span class="token punctuation">)</span> <span class="token operator">=></span> x<span class="token punctuation">.</span><span class="token function">handleNameInput</span><span class="token punctuation">(</span>c<span class="token punctuation">.</span>event<span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">">
    &lt;button type="submit">Add Friend&lt;/button>
  &lt;/form>
  &lt;ul>
    </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token function">repeat</span><span class="token punctuation">(</span>x <span class="token operator">=></span> x<span class="token punctuation">.</span>friends<span class="token punctuation">,</span> html<span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">></span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
      &lt;li></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>x <span class="token operator">=></span> x<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/li>
    </span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">
  &lt;/ul>
</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">FriendList</span> <span class="token keyword">extends</span> <span class="token class-name">FASTElement</span> <span class="token punctuation">{</span>
  <span class="token decorator"><span class="token at operator">@</span><span class="token function">observable</span></span>
  friends<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

  <span class="token decorator"><span class="token at operator">@</span><span class="token function">observable</span></span>
  name<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">;</span>

  <span class="token function">addFriend</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">this</span><span class="token punctuation">.</span>friends<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">handleNameInput</span><span class="token punctuation">(</span>event<span class="token operator">:</span> Event<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token punctuation">(</span>event<span class="token punctuation">.</span>target<span class="token operator">!</span> <span class="token keyword">as</span> HTMLInputElement<span class="token punctuation">)</span><span class="token punctuation">.</span>value<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

FriendList<span class="token punctuation">.</span><span class="token function">define</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'friend-list'</span><span class="token punctuation">,</span>
  template
<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre>
<p>Similar to event handlers, within a <code>repeat</code> block you have access to a special context object. Here is a list of the properties that are available on the context:</p>
<ul>
<li><code>event</code> - The event object when inside an event handler.</li>
<li><code>parent</code> - The parent view-model when inside a <code>repeat</code> block.</li>
<li><code>parentContext</code> - The parent <code>ExecutionContext</code> when inside a <code>repeat</code> block. This is useful when repeats are nested and the inner-most repeat needs access to the root view-model.</li>
<li><code>index</code> - The index of the current item when inside a <code>repeat</code> block (opt-in).</li>
<li><code>length</code> - The length of the array when inside a <code>repeat</code> block (opt-in).</li>
<li><code>isEven</code> - True if the index of the current item is even when inside a <code>repeat</code> block (opt-in).</li>
<li><code>isOdd</code> - True if the index of the current item is odd when inside a <code>repeat</code> block (opt-in).</li>
<li><code>isFirst</code> - True if the current item is first in the array inside a <code>repeat</code> block (opt-in).</li>
<li><code>isInMiddle</code> - True if the current item is somewhere in the middle of the array inside a <code>repeat</code> block (opt-in).</li>
<li><code>isLast</code> - True if the current item is last in the array inside a <code>repeat</code> block (opt-in).</li>
</ul>
<p>Some context properties are opt-in because they are more costly to update. So, for performance reasons, they are not available by default. To opt into the positioning properties, pass options to the repeat directive, with the setting <code>positioning: true</code>. For example, here's how we would use the <code>index</code> in our friends template from above:</p>
<p><strong>Example: HTMLTemplate with List Rendering and Item Index</strong></p>
<pre class="language-ts"><code class="language-ts"><span class="token keyword">const</span> template <span class="token operator">=</span> html<span class="token operator">&lt;</span>FriendList<span class="token operator">></span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
  &lt;ul>
    </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token function">repeat</span><span class="token punctuation">(</span>x <span class="token operator">=></span> x<span class="token punctuation">.</span>friends<span class="token punctuation">,</span> html<span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">></span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
      &lt;li></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> c<span class="token punctuation">)</span> <span class="token operator">=></span> c<span class="token punctuation">.</span>index<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>x <span class="token operator">=></span> x<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/li>
    </span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> <span class="token punctuation">{</span> positioning<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">
  &lt;/ul>
</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span></code></pre>
<p>Whether or not a repeat directive re-uses item views can be controlled with the <code>recycle</code> option setting. When <code>recycle: true</code>, which is the default value, the repeat directive may reuse views rather than create new ones from the template.  When <code>recycle: false</code>
previously used views are always discarded and each item will always be assigned a new view. Recyling previously used views may improve performance in some situations but may also be &quot;dirty&quot; from the previously displayed item.</p>
<p><strong>Example: HTML Template with List Rendering and without view recycling</strong></p>
<pre class="language-ts"><code class="language-ts"><span class="token keyword">const</span> template <span class="token operator">=</span> html<span class="token operator">&lt;</span>FriendList<span class="token operator">></span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
  &lt;ul>
    </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token function">repeat</span><span class="token punctuation">(</span>
      x <span class="token operator">=></span> x<span class="token punctuation">.</span>friends<span class="token punctuation">,</span>
      html<span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">></span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;li></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> c<span class="token punctuation">)</span> <span class="token operator">=></span> c<span class="token punctuation">.</span>index<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>x <span class="token operator">=></span> x<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/li></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span> positioning<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> recycle<span class="token operator">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span>
    <span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">
  &lt;/ul>
</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span></code></pre>
<p>In addition to providing a template to render the items with, you can also provide an expression that evaluates to a template. This enables you to dynamically change what you are using to render the items.</p>


        </div>
    </div>
</main>

    </div>
</div>

    </div>
    <footer class="footer footer--dark">
        <div class="container container-fluid">
            <div class="row footer__links">
                <div class="col footer__col">
                    <div class="footer__title">Docs</div>
                    <ul class="footer__items clean-list">
                        <li class="footer__item"><a class="footer__link-item" href="/docs/getting-started/quick-start">FAST Element</a></li>
                    </ul>
                </div>
                <div class="col footer__col">
                    <div class="footer__title">Community</div>
                    <ul class="footer__items clean-list">
                        <li class="footer__item"><a href="https://discord.gg/FcSNfg4" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="icon-external-link">
                                    <path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z">
                                    </path>
                                </svg></a></li>
                    </ul>
                </div>
                <div class="col footer__col">
                    <div class="footer__title">Social</div>
                    <ul class="footer__items clean-list">
                        <li class="footer__item"><a href="https://medium.com/fast-design" target="_blank" rel="noopener noreferrer" class="footer__link-item">Blog<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="icon-external-link">
                                    <path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z">
                                    </path>
                                </svg></a></li>
                        <li class="footer__item"><a href="https://github.com/microsoft/fast" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="icon-external-link">
                                    <path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z">
                                    </path>
                                </svg></a></li>
                        <li class="footer__item"><a href="https://twitter.com/FAST_UI" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="icon-external-link">
                                    <path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z">
                                    </path>
                                </svg></a></li>
                    </ul>
                </div>
                <div class="col footer__col">
                    <div class="footer__title">Legal</div>
                    <ul class="footer__items clean-list">
                        <li class="footer__item"><a href="https://github.com/microsoft/fast/blob/main/LICENSE" target="_blank" rel="noopener noreferrer" class="footer__link-item">License<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="icon-external-link">
                                    <path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z">
                                    </path>
                                </svg></a></li>
                        <li class="footer__item"><a href="https://go.microsoft.com/fwlink/?LinkId=521839" target="_blank" rel="noopener noreferrer" class="footer__link-item">Privacy &amp;
                                cookies<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="icon-external-link">
                                    <path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z">
                                    </path>
                                </svg></a></li>
                        <li class="footer__item"><a href="https://go.microsoft.com/fwlink/?LinkID=206977" target="_blank" rel="noopener noreferrer" class="footer__link-item">Terms of use<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="icon-external-link">
                                    <path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z">
                                    </path>
                                </svg></a></li>
                        <li class="footer__item"><a href="https://www.microsoft.com/trademarks" target="_blank" rel="noopener noreferrer" class="footer__link-item">Trademarks<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="icon-external-link">
                                    <path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z">
                                    </path>
                                </svg></a></li>
                    </ul>
                </div>
            </div>
            <div class="footer__bottom text--center">
                <div class="footer__copyright"> Microsoft 2025</div>
            </div>
        </div>
    </footer>
    <script src="/js/sidebar-navigation.js"></script>
  </body>
</html>
