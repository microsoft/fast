"use strict";(self.webpackChunk_microsoft_fast_site=self.webpackChunk_microsoft_fast_site||[]).push([[96016],{17e3:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>r,default:()=>h,frontMatter:()=>a,metadata:()=>l,toc:()=>i});var s=n(31085),o=n(71184);const a={id:"css-templates",title:"CSS Templates",sidebar_label:"CSS Templates",keywords:["css","template","web components"]},r="CSS Templates",l={id:"getting-started/css-templates",title:"CSS Templates",description:"The @microsoft/fast-element package offers a named export css which is a tag template literal. It can be used to create CSS snippets which will become your web components CSS. These styles are adoptedStylesheets and associated with the ShadowRoot, they therefore do not affect styling in the rest of the document. To share styles between a document and web components, we suggest using CSS properties.",source:"@site/docs/getting-started/css-templates.md",sourceDirName:"getting-started",slug:"/getting-started/css-templates",permalink:"/docs/getting-started/css-templates",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{id:"css-templates",title:"CSS Templates",sidebar_label:"CSS Templates",keywords:["css","template","web components"]},sidebar:"docs",previous:{title:"HTML Directives",permalink:"/docs/getting-started/html-directives"},next:{title:"FASTElement",permalink:"/docs/getting-started/fast-element"}},c={},i=[{value:"Composing styles",id:"composing-styles",level:2},{value:"Adding external styles",id:"adding-external-styles",level:2}];function d(e){const t={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",p:"p",pre:"pre",strong:"strong",...(0,o.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.h1,{id:"css-templates",children:"CSS Templates"}),"\n",(0,s.jsxs)(t.p,{children:["The ",(0,s.jsx)(t.code,{children:"@microsoft/fast-element"})," package offers a named export ",(0,s.jsx)(t.code,{children:"css"})," which is a ",(0,s.jsx)(t.a,{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Template_literals",children:"tag template literal"}),". It can be used to create CSS snippets which will become your web components CSS. These styles are ",(0,s.jsx)(t.a,{href:"https://developer.mozilla.org/en-US/docs/Web/API/Document/adoptedStyleSheets",children:"adoptedStylesheets"})," and associated with the ",(0,s.jsx)(t.code,{children:"ShadowRoot"}),", they therefore do not affect styling in the rest of the document. To share styles between a document and web components, we suggest using ",(0,s.jsx)(t.a,{href:"https://developer.mozilla.org/en-US/docs/Web/CSS/--*",children:"CSS properties"}),"."]}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.strong,{children:"Example:"})}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-ts",children:"import { FASTElement, attr, css, html } from '@microsoft/fast-element';\n\nconst template = html`\n  <span>${x => x.greeting.toUpperCase()}</span>\n`;\n\nexport const styles = css`\n  :host {\n    color: red;\n    background: var(--background-color, green);\n  }\n`;\n\nexport class NameTag extends FASTElement {\n  @attr\n  greeting: string = 'hello';\n}\n\nNameTag.define({\n  name: 'name-tag',\n  template,\n  styles\n});\n"})}),"\n",(0,s.jsx)(t.p,{children:"HTML file:"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-html",children:"<style>\n  body {\n    --background-color: orange;\n  }\n</style>\n<name-tag></name-tag>\n"})}),"\n",(0,s.jsxs)(t.p,{children:["Using the ",(0,s.jsx)(t.code,{children:"css"})," helper, we're able to create ",(0,s.jsx)(t.code,{children:"ElementStyles"}),". We configure this with the element through the ",(0,s.jsx)(t.code,{children:"styles"})," option of the decorator. Internally, ",(0,s.jsx)(t.code,{children:"FASTElement"})," will leverage ",(0,s.jsx)(t.a,{href:"https://wicg.github.io/construct-stylesheets/",children:"Constructable Stylesheet Objects"})," and ",(0,s.jsx)(t.code,{children:"ShadowRoot#adoptedStyleSheets"})," to efficiently re-use CSS across components. This means that even if we have 1k instances of our ",(0,s.jsx)(t.code,{children:"name-tag"})," component, they will all share a single instance of the associated styles, allowing for reduced memory allocation and improved performance. Because the styles are associated with the ",(0,s.jsx)(t.code,{children:"ShadowRoot"}),", they will also be encapsulated. This ensures that your styles don't affect other elements and other element styles don't affect your element."]}),"\n",(0,s.jsx)(t.h2,{id:"composing-styles",children:"Composing styles"}),"\n",(0,s.jsxs)(t.p,{children:["One of the nice features of ",(0,s.jsx)(t.code,{children:"ElementStyles"})," is that it can be composed with other styles. Imagine that we had a CSS normalize that we wanted to use in our ",(0,s.jsx)(t.code,{children:"name-tag"})," component. We could compose that into our styles like this:"]}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.strong,{children:"Example: Composing CSS Registries"})}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-ts",children:"import { normalize } from './normalize';\n\nconst styles = css`\n  ${normalize}\n  :host {\n    display: inline-block;\n    contain: content;\n    color: white;\n    background: var(--fill-color);\n    border-radius: var(--border-radius);\n    min-width: 325px;\n    text-align: center;\n    box-shadow: 0 0 calc(var(--depth) * 1px) rgba(0,0,0,.5);\n  }\n\n  ...\n`;\n"})}),"\n",(0,s.jsxs)(t.p,{children:["Rather than simply concatenating CSS strings, the ",(0,s.jsx)(t.code,{children:"css"})," helper understands that ",(0,s.jsx)(t.code,{children:"normalize"})," is ",(0,s.jsx)(t.code,{children:"ElementStyles"})," and is able to re-use the same Constructable StyleSheet instance as any other component that uses ",(0,s.jsx)(t.code,{children:"normalize"}),"."]}),"\n",(0,s.jsx)(t.admonition,{type:"note",children:(0,s.jsxs)(t.p,{children:["You can also pass a CSS ",(0,s.jsx)(t.code,{children:"string"})," or a ",(0,s.jsx)(t.a,{href:"https://developer.mozilla.org/en-US/docs/Web/API/CSSStyleSheet",children:"CSSStyleSheet"})," instance directly to the element definition, or even a mixed array of ",(0,s.jsx)(t.code,{children:"string"}),", ",(0,s.jsx)(t.code,{children:"CSSStyleSheet"}),", or ",(0,s.jsx)(t.code,{children:"ElementStyles"}),"."]})}),"\n",(0,s.jsx)(t.admonition,{type:"tip",children:(0,s.jsxs)(t.p,{children:["Styles can be added or removed using ",(0,s.jsx)(t.code,{children:"withBehaviors()"})," to the ",(0,s.jsx)(t.code,{children:"css"})," tag template, or inside the ",(0,s.jsx)(t.code,{children:"FASTElement"}),". check out the ",(0,s.jsx)(t.a,{href:"/docs/advanced/working-with-custom-elements",children:"advanced documentation"})," for details on these approaches."]})}),"\n",(0,s.jsx)(t.h2,{id:"adding-external-styles",children:"Adding external styles"}),"\n",(0,s.jsx)(t.p,{children:"Styles can be added as an array, this can be useful for sharing styles between components and for bringing in styles as a string."}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.strong,{children:"Example:"})}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-ts",children:"const sharedStyles = `\n  h2 {\n    font-family: sans-serif;\n  }\n`;\n\nNameTag.define({\n  name: 'name-tag',\n  template,\n  styles: [\n    css`\n      :host {\n        color: red;\n        background: var(--background-color, green);\n      }\n    `,\n    sharedStyles\n  ]\n})\n"})}),"\n",(0,s.jsx)(t.admonition,{type:"tip",children:(0,s.jsxs)(t.p,{children:["You may notice that we have used ",(0,s.jsx)(t.a,{href:"https://developer.mozilla.org/en-US/docs/Web/CSS/:host",children:(0,s.jsx)(t.code,{children:":host"})}),", this is part of standard CSS pseudo classes. Pseudo elements that may be useful for styling your custom web components include ",(0,s.jsx)(t.a,{href:"https://developer.mozilla.org/en-US/docs/Web/CSS/::slotted",children:(0,s.jsx)(t.code,{children:"::slotted"})})," and ",(0,s.jsx)(t.a,{href:"https://developer.mozilla.org/en-US/docs/Web/CSS/::part",children:(0,s.jsx)(t.code,{children:"::part"})}),"."]})})]})}function h(e={}){const{wrapper:t}={...(0,o.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},71184:(e,t,n)=>{n.d(t,{R:()=>r,x:()=>l});var s=n(14041);const o={},a=s.createContext(o);function r(e){const t=s.useContext(a);return s.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function l(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:r(e.components),s.createElement(a.Provider,{value:t},e.children)}}}]);